# SkillSwap — документация

## Бэкенд

**Стек:** PHP 8.2+, Laravel 12, Laravel Sanctum.

**Назначение:** REST API для обмена навыками: регистрация/авторизация, категории, объявления (услуги), транзакции и баланс коинов.

**Структура API (префикс `/api`):**

| Метод | Путь | Описание | Авторизация |
|-------|------|----------|-------------|
| POST | `/register` | Регистрация (email, password, name) | — |
| POST | `/login` | Вход (email, password), возвращает token и user | — |
| GET | `/categories` | Список категорий | — |
| GET | `/services` | Список объявлений (услуг) | — |
| GET | `/services/{id}` | Одно объявление | — |
| GET | `/users/{id}` | Профиль пользователя (баланс, объявления) | Bearer token |
| GET | `/user` | Текущий пользователь | Bearer token |
| POST | `/services` | Создать объявление | Bearer token |
| PUT | `/services/{id}` | Обновить объявление | Bearer token |
| DELETE | `/services/{id}` | Удалить объявление | Bearer token |
| POST | `/transactions` | Создать покупку (service_id) — списание коинов | Bearer token |
| GET | `/transactions` | История транзакций пользователя | Bearer token |

**Запуск:** из папки `backend`: `php artisan serve` (по умолчанию http://127.0.0.1:8000). CORS настроен для работы с фронтендом.

---

## Фронтенд

**Стек:** React 19, Vite 7, React Router 7, Tailwind CSS 4, Axios, Lucide React.

**Назначение:** SPA для пользователей: главная с поиском и фильтром по категориям, карточки объявлений, покупка уроков за коины, профиль с объявлениями и историей транзакций, авторизация и создание/редактирование объявлений.

**Маршруты:**

- `/` — главная: список объявлений, поиск, категории, кнопка «Начать обучать», модалка покупки.
- `/create` — форма создания объявления (название, описание, категория, цена, изображение).
- `/profile` — профиль (только для авторизованных): аватар, баланс, вкладки «Мои объявления» и «История транзакций», редактирование/удаление объявлений.

**Основные модули:**

- `src/data/api.js` — клиент Axios, все запросы к бэкенду (`/api`); Vite проксирует `/api` на бэкенд.
- `src/views/Home.jsx` — главная, загрузка офферов и категорий с API, фильтрация.
- `src/views/CreateOffer.jsx` — форма создания/редактирования объявления.
- `src/views/Profile.jsx` — профиль, объявления пользователя, транзакции.
- `src/components/Navbar.jsx` — шапка, вход/регистрация/баланс/профиль.
- `src/components/OfferCard.jsx` — карточка объявления с кнопкой «Купить».
- `src/components/PurchaseModal.jsx` — модалка подтверждения покупки за коины.
- `src/components/AuthModal.jsx` — модалка входа/регистрации.
- `src/data/placeholders.js` — data URI SVG для аватаров и обложек по умолчанию.

**Запуск:** из папки `frontend`: `npm run dev`. Прокси в `vite.config.js` перенаправляет запросы с `/api` на бэкенд (например, http://127.0.0.1:8000).
